import PIX from '../src/index';

test('should return the corret pix code', () => {
	const code = PIX.code('Identificação', 'chavepix', '0.05', 'Nome do Vendedor', 'Uberlândia');
	expect(code).toBe('00020126290014br.gov.bcb.pix018chavepix5204000054040.055802BR5916Nome do Vendedor6010Uberlândia62170513Identificação6304D926');

});

test('should fail with missing parameter', () => {
	expect(() => {
		PIX.code('Identificação', '', '0.05', 'Nome do Vendedor', 'Uberlândia');
	}).toThrowError;

	expect(() => {
		PIX.code('Identificação', 'chavepix', '', 'Nome do Vendedor', 'Uberlândia');
	}).toThrowError;
});

test('should fail not passing the pix code', () => {
	expect(async () => {
		await PIX.qrcode('');
	}).toThrowError;
});

test('should generate the qrcode', async () => {
	const code = await PIX.qrcode('00020126290014br.gov.bcb.pix018chavepix5204000054040.055802BR5916Nome do Vendedor6010Uberlândia62170513Identificação6304D926');
	expect(code).toBe('data:image/png;base64,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');
});






